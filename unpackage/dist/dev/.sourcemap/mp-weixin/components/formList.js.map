{"version":3,"sources":[null,"webpack:///E:/work/nongan/components/formList.vue?5055","webpack:///E:/work/nongan/components/formList.vue?e9dc","webpack:///E:/work/nongan/components/formList.vue?a52c","uni-app:///components/formList.vue"],"names":["name","components","DatePick","props","formList","type","default","data","form","dateProp","rules","watch","handler","redioLists","console","item2","newValCopy","deep","mounted","methods","showDate","close","radioChange","radioGroupChange","formValidate"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;;;AAGvD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,2UAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;eC+EtnB;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;IACA;MACA;QACA;MACA;MACA;QACA;MACA;IAEA;IAEA;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACA;MACAC;QACA;QACA;;QAGA;QACA;UACA;QACA;QACAC;UACAC;UACA;YACAC;cACA;gBACAC;cACA;YACA;UACA;QAEA;QAEA;MACA;MACAC;IACA;EACA;EACAC;IACAJ;EACA;EACAK;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC,qCAEA;IACAC;MAEA;MACAT;IACA;IACAU;MACAV;MACA;QACA;UACAA;QACA;UACAA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"components/formList.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./formList.vue?vue&type=template&id=7de992bd&scoped=true&\"\nvar renderjs\nimport script from \"./formList.vue?vue&type=script&lang=js&\"\nexport * from \"./formList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7de992bd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/formList.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./formList.vue?vue&type=template&id=7de992bd&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uRadioGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uni_modules/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio/u-radio\" */ \"@/uni_modules/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.formList, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = item.type == \"input\" ? item.hasOwnProperty(\"rule\") : null\n    var g1 = item.type == \"date\" ? item.hasOwnProperty(\"rule\") : null\n    var g2 = item.type == \"textarea\" ? item.hasOwnProperty(\"rule\") : null\n    var g3 = item.type == \"redio\" ? item.hasOwnProperty(\"rule\") : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n      g2: g2,\n      g3: g3,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./formList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./formList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pb20  flex  border-box flex-between flex-column\">\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<DatePick @close=\"close\"></DatePick>\r\n\r\n\r\n\r\n\t\t</uni-popup>\r\n\r\n\r\n\r\n\t\t<view class=\"\">\r\n\r\n\r\n\t\t\t<u-form :model=\"form\" ref=\"uForm\" label-width=\"180\" :label-style=\"{color:'#555'}\">\r\n\r\n\r\n\r\n\t\t\t\t<view class=\"bgWhite  px30 br20 mb10\" v-for=\"item in formList\" :key=\"item.prop\">\r\n\r\n\t\t\t\t\t<view v-if=\"item.type=='input'\" class=\"flex flex-between align-center\">\r\n\t\t\t\t\t\t<u-form-item class=\"flex1\" :required=\"item.hasOwnProperty('rule')\" :prop=\"item.prop\" :label=\"item.label\">\r\n\t\t\t\t\t\t\t<u-input border=\"false\" input-align=\"right\" placeholder-style=\"text-align:right\"\r\n\t\t\t\t\t\t\t\t:placeholder=\"item.placeholder\" v-model=\"form[item.prop]\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t\t\t<slot v-if=\"item.slot\">\r\n\t\t\t\t\t\t\t{{item.slot}}\r\n\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t\t<image v-if=\"item.type=='select'\" style=\"width:15rpx; height:27rpx;\"\r\n\t\t\t\t\t\t\tsrc=\"@/static/form/left.png\" mode=\"\"></image>\r\n\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"flex flex-between align-center\" @click=\"showDate(item.prop)\" v-if=\"item.type=='date'\">\r\n\t\t\t\t\t\t<u-form-item class=\"flex1 \" :required=\"item.hasOwnProperty('rule')\" :prop=\"item.prop\" :label=\"item.label\">\r\n\t\t\t\t\t\t\t<u-input input-align=\"right\" placeholder-style=\"text-align:right\" border=\"false\"\r\n\t\t\t\t\t\t\t\tv-model=\"form[item.prop]\" :placeholder=\"item.placeholder\" type=\"select\" disabled />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<image style=\"width:15rpx; height:27rpx;\" src=\"@/static/form/left.png\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t<view class=\"flex  flex-between align-center\" v-if=\"item.type=='textarea'\">\r\n\t\t\t\t\t\t<u-form-item labelPosition=\"top\" :labelWidth=\"item.labelWidth || 90\" class=\"flex1 \"\r\n\t\t\t\t\t\t\t:prop=\"item.prop\" :label=\"item.label\">\r\n\r\n\t\t\t\t\t\t\t<u--textarea class=\"\" :required=\"item.hasOwnProperty('rule')\" style=\"width:100%;\" border=\"none\" :height=\"item.height || 100\"\r\n\t\t\t\t\t\t\t\tv-model=\"form[item.prop]\" placeholder=\"请输入内容\" count></u--textarea>\r\n\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<!-- \t<image style=\"width:15rpx; height:27rpx;\" src=\"@/static/form/left.png\" mode=\"\"></image> -->\r\n\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t\t<view class=\"\" v-if=\"item.type=='redio'\">\r\n\t\t\t\t\t\t<u-form-item labelPosition=\"left\" :required=\"item.hasOwnProperty('rule')\" :labelWidth=\"item.labelWidth || 90\" class=\"flex1 bd\"\r\n\t\t\t\t\t\t\t:prop=\"item.prop\" :label=\"item.label\">\r\n\t\t\t\t\t\t\t<u-radio-group v-model=\"form[item.prop]\" @change=\"radioGroupChange(e,item)\">\r\n\t\t\t\t\t\t\t\t<u-radio @change=\"radioChange\" class=\"\" active-color=\"#21A068\" v-for=\"(redioItem, index) in item.redioList\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t\t:name=\"redioItem.name\" :disabled=\"redioItem.disabled\">\r\n\t\t\t\t\t\t\t\t\t{{redioItem.name}}\r\n\t\t\t\t\t\t\t\t</u-radio>\r\n\t\t\t\t\t\t\t</u-radio-group>\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</u-form>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport DatePick from '@/components/datePick.vue'\r\n\texport default {\r\n\t\tname: \"formList\",\r\n\t\tcomponents: {\r\n\t\t\tDatePick\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tformList: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tlet form = {}\r\n\t\t\tlet rules={}\r\n\t\t\tthis.formList.forEach(item => {\r\n\t\t\t\tif (!form[item.prop]) {\r\n\t\t\t\t\tthis.$set(form, item.prop, '')\r\n\t\t\t\t}\r\n\t\t\t\tif(!rules[item.rule]){\r\n\t\t\t\t\tthis.$set(rules, item.prop, item.rule)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tform: form,\r\n\t\t\t\tdateProp: \"\",\r\n\t\t\t\trules:rules\r\n\t\t\t}\r\n\t\t},\r\n\t\t\t\r\n\t\twatch:{\r\n\t\t\t'form':{\r\n\t\t\t\thandler:function(newVal){\r\n\t\t\t\t\t// 拷贝newVal\r\n\t\t\t\t\tlet newValCopy = Object.assign({},newVal)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 替换redio的name字段为value\r\n\t\t\t\t\tlet redioLists = this.formList.filter(item=>{\r\n\t\t\t\t\t\treturn item.type==\"redio\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tredioLists.forEach(item2=>{\r\n\t\t\t\t\t\tconsole.log(item2.redioList.length)\r\n\t\t\t\t\t\t if(item2.redioList.length > 0){\r\n\t\t\t\t\t\t\t item2.redioList.forEach(redioListItem=>{\r\n\t\t\t\t\t\t\t\t  if(newValCopy[item2['prop']] == redioListItem.name){\r\n\t\t\t\t\t\t\t\t\t  newValCopy[item2['prop']] = redioListItem.value\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$emit('setFormData',newValCopy)\r\n\t\t\t\t},\r\n\t\t\t\t deep:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log(this.form,this.rules)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowDate(prop) {\r\n\t\t\t\tthis.dateProp = prop\r\n\t\t\t\tthis.$refs.popup.open('bottom')\r\n\t\t\t},\r\n\t\t\tclose(value) {\r\n\t\t\t\tthis.form[this.dateProp] = value\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\tradioChange(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tradioGroupChange(e,item){\r\n\t\t\t\r\n\t\t\t\t//此时this.form[item.prop]为name值\r\n\t\t\t\tconsole.log(item,\"lfkdsfslfsad\")\r\n\t\t\t},\r\n\t\t\tformValidate(){\r\n\t\t\t\tconsole.log(\"nnbnbnbnbnb\")\r\n\t\t\t\tthis.$refs.uForm.validate(valid =>{\r\n\t\t\t\t\tif(valid){\r\n\t\t\t\t\t\tconsole.log('验证通过');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log('验证失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n\r\n\r\n</style>"],"sourceRoot":""}